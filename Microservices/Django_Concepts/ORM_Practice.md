# ‚úÖ Django ORM ‚Äî Master Practice Set (25 Questions)

> **Goal:**
> If you can solve all 25, you *fully understand Django ORM* ‚Äî from basics to performance-level mastery.

---

## üü¢ SECTION 1 ‚Äî Core Querying & Relationships (1‚Äì7)

### 1Ô∏è‚É£ Fetch all employees who do **not** have a related profile.

### 2Ô∏è‚É£ Fetch all employees who joined in the last 30 days and belong to a specific department.

### 3Ô∏è‚É£ Fetch all departments that currently have **zero employees**.

### 4Ô∏è‚É£ Fetch all employees whose email domain is `"@gmail.com"`.

### 5Ô∏è‚É£ Fetch all employees whose name starts with ‚ÄúA‚Äù **and** salary > 50,000.

### 6Ô∏è‚É£ Fetch employees who **don‚Äôt belong to any department**.

### 7Ô∏è‚É£ Fetch all employees and prefetch their profiles efficiently (avoid N+1).

---

## üü° SECTION 2 ‚Äî Aggregation & Grouping (8‚Äì14)

### 8Ô∏è‚É£ Count number of employees per department.

### 9Ô∏è‚É£ Find departments with **more than 5 employees**.

### üîü Find the **average salary per department**.

### 1Ô∏è‚É£1Ô∏è‚É£ Get employees earning **above department average**.

### 1Ô∏è‚É£2Ô∏è‚É£ Find departments whose **total salary payout** exceeds 10 million.

### 1Ô∏è‚É£3Ô∏è‚É£ Find employees who share the **same salary** with at least one other employee.

### 1Ô∏è‚É£4Ô∏è‚É£ Find departments where **every employee** earns more than 50k.

---

## üîµ SECTION 3 ‚Äî Subqueries & Advanced ORM (15‚Äì20)

### 1Ô∏è‚É£5Ô∏è‚É£ Fetch employees who earn **the maximum salary in their department**.

### 1Ô∏è‚É£6Ô∏è‚É£ Find employees whose salary is **greater than their manager‚Äôs salary**.

### 1Ô∏è‚É£7Ô∏è‚É£ Get employees who belong to departments having **more than 3 senior employees**.

### 1Ô∏è‚É£8Ô∏è‚É£ Find employees whose salary is among the **top 3 distinct salaries** in the company.

### 1Ô∏è‚É£9Ô∏è‚É£ For each department, return the **employee with the earliest joining date**.

### 2Ô∏è‚É£0Ô∏è‚É£ Fetch employees who are the **only member of their department**.

---

## üî¥ SECTION 4 ‚Äî Performance, Optimization & Internals (21‚Äì25)

### 2Ô∏è‚É£1Ô∏è‚É£ Demonstrate `select_related` vs `prefetch_related` with a real query and explain why one is faster.

### 2Ô∏è‚É£2Ô∏è‚É£ Optimize a query suffering from the N+1 problem (show before & after).

### 2Ô∏è‚É£3Ô∏è‚É£ Use `Prefetch()` to filter related objects efficiently.

### 2Ô∏è‚É£4Ô∏è‚É£ Show how to inspect the actual SQL generated by a queryset.

### 2Ô∏è‚É£5Ô∏è‚É£ Explain when to use:

* `select_related`
* `prefetch_related`
* `annotate`
* `aggregate`
* `Subquery`
* `Exists`

(with one example each)

---
